# Logfile created on Sun Feb 15 13:37:10 -0800 2009  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 955064461) [0m


Processing AdminController#login (for 0.0.0.0 at 2009-02-15 13:37:11) [POST]
  Parameters: {"name"=>"LoginTestUser", "password"=>"pwd1"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."name" = 'LoginTestUser') LIMIT 1[0m
Redirected to actionindex
Completed in 0ms (DB: 10) | 302 Found [http://test.host/admin/login?name=LoginTestUser&password=pwd1]
  [4;36;1mUser Load (10.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 955064461) [0m


Processing AdminController#login (for 0.0.0.0 at 2009-02-15 13:37:11) [POST]
  Parameters: {"name"=>"LoginTestUser", "password"=>"pwd2"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."name" = 'LoginTestUser') LIMIT 1[0m
Rendering template within layouts/store
Rendering admin/login
Completed in 0ms (View: 0, DB: 10) | 200 OK [http://test.host/admin/login?name=LoginTestUser&password=pwd2]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 955064461) [0m


Processing AdminController#login (for 0.0.0.0 at 2009-02-15 13:37:11) [POST]
  Parameters: {"name"=>"LoginTestUser", "password"=>"pwd1"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."name" = 'LoginTestUser') LIMIT 1[0m
Redirected to actionindex
Completed in 0ms (DB: 0) | 302 Found [http://test.host/admin/login?name=LoginTestUser&password=pwd1]


Processing AdminController#logout (for 0.0.0.0 at 2009-02-15 13:37:11) [POST]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 955064461) LIMIT 1[0m
Redirected to actionlogin
Completed in 0ms (DB: 0) | 302 Found [http://test.host/admin/login?name=LoginTestUser&password=pwd1]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:37:11) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo.gif", "title"=>"awesome product", "price"=>"100", "description"=>"awesome product description"}}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mProduct Exists (0.0ms)[0m   [0;1mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
  [4;35;1mProduct Create (0.0ms)[0m   [0mINSERT INTO "products" ("image_url", "updated_at", "title", "price", "description", "created_at") VALUES('http://example.com/foo.gif', '2009-02-15 21:37:11', 'awesome product', 100, 'awesome product description', '2009-02-15 21:37:11')[0m
Redirected to #<Product:0x48261f4>
Completed in 10ms (DB: 0) | 302 Found [http://test.host/products?product%5Bdescription%5D=awesome+product+description&product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo.gif&product%5Bprice%5D=100&product%5Btitle%5D=awesome+product]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing ProductsController#destroy (for 0.0.0.0 at 2009-02-15 13:37:11) [DELETE]
  Parameters: {"id"=>"953125641"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;36;1mProduct Destroy (0.0ms)[0m   [0;1mDELETE FROM "products" WHERE "id" = 953125641[0m
Redirected to http://test.host/products
Completed in 10ms (DB: 0) | 302 Found [http://test.host/products/953125641]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:37:11) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo.gif", "title"=>"awesome product", "price"=>"100"}}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 20ms (View: 10, DB: 0) | 200 OK [http://test.host/products?product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo.gif&product%5Bprice%5D=100&product%5Btitle%5D=awesome+product]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:37:12) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo", "title"=>"awesome product", "price"=>"100", "description"=>"awesome product description"}}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/products?product%5Bdescription%5D=awesome+product+description&product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo&product%5Bprice%5D=100&product%5Btitle%5D=awesome+product]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:37:12) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo.gif", "title"=>"awesome product", "price"=>".001", "description"=>"awesome product description"}}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 10ms (View: 0, DB: 0) | 200 OK [http://test.host/products?product%5Bdescription%5D=awesome+product+description&product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo.gif&product%5Bprice%5D=.001&product%5Btitle%5D=awesome+product]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:37:12) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo.gif", "price"=>"100", "description"=>"awesome product description"}}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 10ms (View: 0, DB: 0) | 200 OK [http://test.host/products?product%5Bdescription%5D=awesome+product+description&product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo.gif&product%5Bprice%5D=100]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing ProductsController#edit (for 0.0.0.0 at 2009-02-15 13:37:12) [GET]
  Parameters: {"id"=>"953125641"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering products/edit
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/products/953125641/edit]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing ProductsController#index (for 0.0.0.0 at 2009-02-15 13:37:12) [GET]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/store
Rendering products/index
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/products]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing ProductsController#new (for 0.0.0.0 at 2009-02-15 13:37:12) [GET]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 10ms (View: 0, DB: 0) | 200 OK [http://test.host/products/new]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing ProductsController#show (for 0.0.0.0 at 2009-02-15 13:37:12) [GET]
  Parameters: {"id"=>"953125641"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mProduct Load (10.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering products/show
Completed in 10ms (View: 0, DB: 10) | 200 OK [http://test.host/products/953125641]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing ProductsController#update (for 0.0.0.0 at 2009-02-15 13:37:12) [PUT]
  Parameters: {"product"=>{"title"=>"mega awesome title"}, "id"=>"953125641"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'mega awesome title' AND "products".id <> 953125641) LIMIT 1[0m
  [4;36;1mProduct Update (0.0ms)[0m   [0;1mUPDATE "products" SET "title" = 'mega awesome title', "updated_at" = '2009-02-15 21:37:12' WHERE "id" = 953125641[0m
Redirected to #<Product:0x47254e4>
Completed in 10ms (DB: 0) | 302 Found [http://test.host/products/953125641?product%5Btitle%5D=mega+awesome+title]
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing StoreController#add_to_cart (for 0.0.0.0 at 2009-02-15 13:37:12) [GET]
  Parameters: {"id"=>"junk"}
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 0) [0m
Invalid product id: junk
Redirected to actionindex
Completed in 10ms (DB: 0) | 302 Found [http://test.host/store/add_to_cart/junk]
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing StoreController#add_to_cart (for 0.0.0.0 at 2009-02-15 13:37:12) [GET]
  Parameters: {"id"=>"953125641"}
  [4;36;1mProduct Load (10.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering store/add_to_cart
Completed in 30ms (View: 20, DB: 10) | 200 OK [http://test.host/store/add_to_cart/953125641]


Processing StoreController#empty_cart (for 0.0.0.0 at 2009-02-15 13:37:12) [GET]
Redirected to actionindex
Completed in 0ms (DB: 0) | 302 Found [http://test.host/store/empty_cart]


Processing StoreController#index (for 0.0.0.0 at 2009-02-15 13:37:12) [GET]
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" ORDER BY title[0m
Rendering template within layouts/store
Rendering store/index
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/store]
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" ORDER BY title[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" [0m
  [4;35;1mUser Destroy (10.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 914358341[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Destroy (0.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 953125641[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Destroy (0.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 955064461[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Destroy (0.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 996332877[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Load (10.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-02-15 13:37:12) [DELETE]
  Parameters: {"id"=>"953125641"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Load (10.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
  [4;36;1mUser Destroy (0.0ms)[0m   [0;1mDELETE FROM "users" WHERE "id" = 953125641[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
Redirected to http://test.host/users
Completed in 40ms (DB: 30) | 302 Found [http://test.host/users/953125641]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mUser Load (10.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#index (for 0.0.0.0 at 2009-02-15 13:37:12) [GET]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 60ms (View: 40, DB: 10) | 200 OK [http://test.host/users]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing UsersController#index (for 0.0.0.0 at 2009-02-15 13:37:12) [GET]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to actionlogincontrolleradmin
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/users]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m


Processing UsersController#create (for 0.0.0.0 at 2009-02-15 13:37:12) [POST]
  Parameters: {"user"=>{"name"=>"NewUser", "password_confirmation"=>"pwd", "password"=>"pwd"}}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Exists (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."name" = 'NewUser') LIMIT 1[0m
  [4;36;1mUser Create (0.0ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "updated_at", "hashed_password", "created_at") VALUES('NewUser', '369959000.66198713802874', '2009-02-15 21:37:12', 'c2c4715ae01f1f85eec99c96089749fbd8c8d19d', '2009-02-15 21:37:12')[0m
Redirected to actionindex
Completed in 0ms (DB: 0) | 302 Found [http://test.host/users?user%5Bname%5D=NewUser&user%5Bpassword%5D=pwd&user%5Bpassword_confirmation%5D=pwd]
  [4;35;1mSQL (10.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-02-15 13:37:12) [DELETE]
  Parameters: {"id"=>"953125641"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
  [4;35;1mUser Destroy (0.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 953125641[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
Redirected to http://test.host/users
Completed in 10ms (DB: 10) | 302 Found [http://test.host/users/953125641]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Load (10.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-02-15 13:37:12) [GET]
  Parameters: {"id"=>"953125641"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering users/edit
Completed in 10ms (View: 10, DB: 10) | 200 OK [http://test.host/users/953125641/edit]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing UsersController#index (for 0.0.0.0 at 2009-02-15 13:37:12) [GET]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Load (11.0ms)[0m   [0mSELECT * FROM "users" ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 11ms (View: 0, DB: 11) | 200 OK [http://test.host/users]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing UsersController#new (for 0.0.0.0 at 2009-02-15 13:37:12) [GET]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/new
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://test.host/users/new]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-02-15 13:37:12) [GET]
  Parameters: {"id"=>"953125641"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering users/show
Completed in 10ms (View: 0, DB: 0) | 200 OK [http://test.host/users/953125641]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-02-15 13:37:12) [PUT]
  Parameters: {"user"=>{}, "id"=>"953125641"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
  [4;36;1mUser Exists (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."name" = 'User1' AND "users".id <> 953125641) LIMIT 1[0m
Redirected to actionindex
Completed in 0ms (DB: 0) | 302 Found [http://test.host/users/953125641?]
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 996332877) [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 996332877) [0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 996332877) [0m
  [4;36;1mOrder Load (0.0ms)[0m   [0;1mSELECT * FROM "orders" WHERE ("orders"."id" = 953125641) [0m
  [4;35;1mLineItem Create (0.0ms)[0m   [0mINSERT INTO "line_items" ("order_id", "updated_at", "total_price", "product_id", "quantity", "created_at") VALUES(953125641, '2009-02-15 21:48:50', 2, 953125641, 2, '2009-02-15 21:48:50')[0m
  [4;36;1mLineItem Create (0.0ms)[0m   [0;1mINSERT INTO "line_items" ("order_id", "updated_at", "total_price", "product_id", "quantity", "created_at") VALUES(953125641, '2009-02-15 21:48:50', 1, 996332877, 1, '2009-02-15 21:48:50')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "line_items" WHERE ("line_items".order_id = 953125641) [0m
  [4;36;1mLineItem Load (0.0ms)[0m   [0;1mSELECT * FROM "line_items" WHERE ("line_items".order_id = 953125641) [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 996332877) [0m
  [4;35;1mOrder Load (0.0ms)[0m   [0mSELECT * FROM "orders" WHERE ("orders"."id" = 953125641) [0m
  [4;36;1mOrder Load (0.0ms)[0m   [0;1mSELECT * FROM "orders" WHERE ("orders"."id" = 953125641) [0m
  [4;35;1mOrder Load (0.0ms)[0m   [0mSELECT * FROM "orders" WHERE ("orders"."id" = 953125641) [0m
  [4;36;1mOrder Load (0.0ms)[0m   [0;1mSELECT * FROM "orders" WHERE ("orders"."id" = 953125641) [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" ORDER BY title[0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;36;1mProduct Exists (0.0ms)[0m   [0;1mSELECT "products".id FROM "products" WHERE ("products"."title" = 'MyString1' AND "products".id <> 953125641) LIMIT 1[0m
  [4;35;1mProduct Update (0.0ms)[0m   [0mUPDATE "products" SET "price" = 1000, "updated_at" = '2009-02-15 21:48:50' WHERE "id" = 953125641[0m
  [4;36;1mProduct Exists (0.0ms)[0m   [0;1mSELECT "products".id FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1[0m
  [4;36;1mProduct Exists (0.0ms)[0m   [0;1mSELECT "products".id FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1[0m
  [4;35;1mProduct Load (10.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;36;1mProduct Exists (0.0ms)[0m   [0;1mSELECT "products".id FROM "products" WHERE ("products"."title" = 'MyString1' AND "products".id <> 953125641) LIMIT 1[0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;36;1mProduct Exists (0.0ms)[0m   [0;1mSELECT "products".id FROM "products" WHERE ("products"."title" = 'MyString1' AND "products".id <> 953125641) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'MyString1' AND "products".id <> 953125641) LIMIT 1[0m
  [4;36;1mProduct Exists (0.0ms)[0m   [0;1mSELECT "products".id FROM "products" WHERE ("products"."title" = 'MyString1' AND "products".id <> 953125641) LIMIT 1[0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
WARNING: Can't mass-assign these protected attributes: id
  [4;36;1mProduct Exists (0.0ms)[0m   [0;1mSELECT "products".id FROM "products" WHERE ("products"."title" = 'MyString1') LIMIT 1[0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;36;1mProduct Exists (0.0ms)[0m   [0;1mSELECT "products".id FROM "products" WHERE ("products"."title" = 'MyString1' AND "products".id <> 953125641) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'MyString1' AND "products".id <> 953125641) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 955064461) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."name" = 'LoginTestUser') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 955064461) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."name" = 'LoginTestUser') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 955064461) [0m


Processing AdminController#login (for 0.0.0.0 at 2009-02-15 13:48:56) [POST]
  Parameters: {"name"=>"LoginTestUser", "password"=>"pwd1"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."name" = 'LoginTestUser') LIMIT 1[0m
Redirected to actionindex
Completed in 0ms (DB: 0) | 302 Found [http://test.host/admin/login?name=LoginTestUser&password=pwd1]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 955064461) [0m


Processing AdminController#login (for 0.0.0.0 at 2009-02-15 13:48:56) [POST]
  Parameters: {"name"=>"LoginTestUser", "password"=>"pwd2"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."name" = 'LoginTestUser') LIMIT 1[0m
Rendering template within layouts/store
Rendering admin/login
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://test.host/admin/login?name=LoginTestUser&password=pwd2]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 955064461) [0m


Processing AdminController#login (for 0.0.0.0 at 2009-02-15 13:48:56) [POST]
  Parameters: {"name"=>"LoginTestUser", "password"=>"pwd1"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."name" = 'LoginTestUser') LIMIT 1[0m
Redirected to actionindex
Completed in 0ms (DB: 0) | 302 Found [http://test.host/admin/login?name=LoginTestUser&password=pwd1]


Processing AdminController#logout (for 0.0.0.0 at 2009-02-15 13:48:56) [POST]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 955064461) LIMIT 1[0m
Redirected to actionlogin
Completed in 0ms (DB: 0) | 302 Found [http://test.host/admin/login?name=LoginTestUser&password=pwd1]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:48:56) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo.gif", "title"=>"awesome product", "price"=>"100", "description"=>"awesome product description"}}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mProduct Exists (0.0ms)[0m   [0;1mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
  [4;35;1mProduct Create (0.0ms)[0m   [0mINSERT INTO "products" ("image_url", "updated_at", "title", "price", "description", "created_at") VALUES('http://example.com/foo.gif', '2009-02-15 21:48:56', 'awesome product', 100, 'awesome product description', '2009-02-15 21:48:56')[0m
Redirected to #<Product:0x482626c>
Completed in 10ms (DB: 0) | 302 Found [http://test.host/products?product%5Bdescription%5D=awesome+product+description&product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo.gif&product%5Bprice%5D=100&product%5Btitle%5D=awesome+product]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing ProductsController#destroy (for 0.0.0.0 at 2009-02-15 13:48:56) [DELETE]
  Parameters: {"id"=>"953125641"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;36;1mProduct Destroy (0.0ms)[0m   [0;1mDELETE FROM "products" WHERE "id" = 953125641[0m
Redirected to http://test.host/products
Completed in 0ms (DB: 0) | 302 Found [http://test.host/products/953125641]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:48:56) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo.gif", "title"=>"awesome product", "price"=>"100"}}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 20ms (View: 10, DB: 0) | 200 OK [http://test.host/products?product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo.gif&product%5Bprice%5D=100&product%5Btitle%5D=awesome+product]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
  [4;36;1mUser Load (10.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:48:56) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo", "title"=>"awesome product", "price"=>"100", "description"=>"awesome product description"}}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 10ms (View: 10, DB: 10) | 200 OK [http://test.host/products?product%5Bdescription%5D=awesome+product+description&product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo&product%5Bprice%5D=100&product%5Btitle%5D=awesome+product]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:48:56) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo.gif", "title"=>"awesome product", "price"=>".001", "description"=>"awesome product description"}}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 10ms (View: 0, DB: 0) | 200 OK [http://test.host/products?product%5Bdescription%5D=awesome+product+description&product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo.gif&product%5Bprice%5D=.001&product%5Btitle%5D=awesome+product]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:48:56) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo.gif", "price"=>"100", "description"=>"awesome product description"}}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 10ms (View: 0, DB: 0) | 200 OK [http://test.host/products?product%5Bdescription%5D=awesome+product+description&product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo.gif&product%5Bprice%5D=100]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing ProductsController#edit (for 0.0.0.0 at 2009-02-15 13:48:57) [GET]
  Parameters: {"id"=>"953125641"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering products/edit
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/products/953125641/edit]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing ProductsController#index (for 0.0.0.0 at 2009-02-15 13:48:57) [GET]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/store
Rendering products/index
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/products]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing ProductsController#new (for 0.0.0.0 at 2009-02-15 13:48:57) [GET]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 10ms (View: 0, DB: 0) | 200 OK [http://test.host/products/new]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing ProductsController#show (for 0.0.0.0 at 2009-02-15 13:48:57) [GET]
  Parameters: {"id"=>"953125641"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mProduct Load (10.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering products/show
Completed in 10ms (View: 0, DB: 10) | 200 OK [http://test.host/products/953125641]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing ProductsController#update (for 0.0.0.0 at 2009-02-15 13:48:57) [PUT]
  Parameters: {"product"=>{"title"=>"mega awesome title"}, "id"=>"953125641"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'mega awesome title' AND "products".id <> 953125641) LIMIT 1[0m
  [4;36;1mProduct Update (0.0ms)[0m   [0;1mUPDATE "products" SET "title" = 'mega awesome title', "updated_at" = '2009-02-15 21:48:57' WHERE "id" = 953125641[0m
Redirected to #<Product:0x472555c>
Completed in 0ms (DB: 0) | 302 Found [http://test.host/products/953125641?product%5Btitle%5D=mega+awesome+title]
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing StoreController#add_to_cart (for 0.0.0.0 at 2009-02-15 13:48:57) [GET]
  Parameters: {"id"=>"junk"}
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 0) [0m
Invalid product id: junk
Redirected to actionindex
Completed in 10ms (DB: 0) | 302 Found [http://test.host/store/add_to_cart/junk]
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing StoreController#add_to_cart (for 0.0.0.0 at 2009-02-15 13:48:57) [GET]
  Parameters: {"id"=>"953125641"}
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering store/add_to_cart
Completed in 40ms (View: 30, DB: 0) | 200 OK [http://test.host/store/add_to_cart/953125641]


Processing StoreController#empty_cart (for 0.0.0.0 at 2009-02-15 13:48:57) [GET]
Redirected to actionindex
Completed in 0ms (DB: 0) | 302 Found [http://test.host/store/empty_cart]


Processing StoreController#index (for 0.0.0.0 at 2009-02-15 13:48:57) [GET]
  [4;35;1mProduct Load (10.0ms)[0m   [0mSELECT * FROM "products" ORDER BY title[0m
Rendering template within layouts/store
Rendering store/index
Completed in 20ms (View: 10, DB: 10) | 200 OK [http://test.host/store]
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" ORDER BY title[0m
  [4;35;1mUser Load (10.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" [0m
  [4;35;1mUser Destroy (0.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 914358341[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Destroy (0.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 953125641[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Destroy (0.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 955064461[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Destroy (0.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 996332877[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-02-15 13:48:57) [DELETE]
  Parameters: {"id"=>"953125641"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
  [4;36;1mUser Destroy (0.0ms)[0m   [0;1mDELETE FROM "users" WHERE "id" = 953125641[0m
  [4;35;1mSQL (10.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
Redirected to http://test.host/users
Completed in 40ms (DB: 20) | 302 Found [http://test.host/users/953125641]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mUser Load (10.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#index (for 0.0.0.0 at 2009-02-15 13:48:57) [GET]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) LIMIT 1[0m
  [4;35;1mUser Load (10.0ms)[0m   [0mSELECT * FROM "users" ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 60ms (View: 50, DB: 20) | 200 OK [http://test.host/users]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing UsersController#index (for 0.0.0.0 at 2009-02-15 13:48:57) [GET]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to actionlogincontrolleradmin
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/users]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m


Processing UsersController#create (for 0.0.0.0 at 2009-02-15 13:48:57) [POST]
  Parameters: {"user"=>{"name"=>"NewUser", "password_confirmation"=>"pwd", "password"=>"pwd"}}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Exists (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."name" = 'NewUser') LIMIT 1[0m
  [4;36;1mUser Create (0.0ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "updated_at", "hashed_password", "created_at") VALUES('NewUser', '369959600.388725545921289', '2009-02-15 21:48:57', '64a3fb7110ffa69496fd40347c49c67baba6aec3', '2009-02-15 21:48:57')[0m
Redirected to actionindex
Completed in 10ms (DB: 0) | 302 Found [http://test.host/users?user%5Bname%5D=NewUser&user%5Bpassword%5D=pwd&user%5Bpassword_confirmation%5D=pwd]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-02-15 13:48:57) [DELETE]
  Parameters: {"id"=>"953125641"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
  [4;35;1mUser Destroy (0.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 953125641[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
Redirected to http://test.host/users
Completed in 0ms (DB: 0) | 302 Found [http://test.host/users/953125641]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-02-15 13:48:57) [GET]
  Parameters: {"id"=>"953125641"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mUser Load (10.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering users/edit
Completed in 10ms (View: 0, DB: 10) | 200 OK [http://test.host/users/953125641/edit]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing UsersController#index (for 0.0.0.0 at 2009-02-15 13:48:57) [GET]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/users]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing UsersController#new (for 0.0.0.0 at 2009-02-15 13:48:57) [GET]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/new
Completed in 10ms (View: 0, DB: 0) | 200 OK [http://test.host/users/new]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-02-15 13:48:57) [GET]
  Parameters: {"id"=>"953125641"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering users/show
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://test.host/users/953125641]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-02-15 13:48:57) [PUT]
  Parameters: {"user"=>{}, "id"=>"953125641"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
  [4;36;1mUser Exists (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."name" = 'User1' AND "users".id <> 953125641) LIMIT 1[0m
Redirected to actionindex
Completed in 10ms (DB: 0) | 302 Found [http://test.host/users/953125641?]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 955064461) [0m


Processing AdminController#login (for 0.0.0.0 at 2009-02-15 13:49:29) [POST]
  Parameters: {"name"=>"LoginTestUser", "password"=>"pwd1"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."name" = 'LoginTestUser') LIMIT 1[0m
Redirected to actionindex
Completed in 10ms (DB: 0) | 302 Found [http://test.host/admin/login?name=LoginTestUser&password=pwd1]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 955064461) [0m


Processing AdminController#login (for 0.0.0.0 at 2009-02-15 13:49:29) [POST]
  Parameters: {"name"=>"LoginTestUser", "password"=>"pwd2"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."name" = 'LoginTestUser') LIMIT 1[0m
Rendering template within layouts/store
Rendering admin/login
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://test.host/admin/login?name=LoginTestUser&password=pwd2]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 955064461) [0m


Processing AdminController#login (for 0.0.0.0 at 2009-02-15 13:49:29) [POST]
  Parameters: {"name"=>"LoginTestUser", "password"=>"pwd1"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."name" = 'LoginTestUser') LIMIT 1[0m
Redirected to actionindex
Completed in 0ms (DB: 0) | 302 Found [http://test.host/admin/login?name=LoginTestUser&password=pwd1]


Processing AdminController#logout (for 0.0.0.0 at 2009-02-15 13:49:29) [POST]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 955064461) LIMIT 1[0m
Redirected to actionlogin
Completed in 0ms (DB: 0) | 302 Found [http://test.host/admin/login?name=LoginTestUser&password=pwd1]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:49:29) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo.gif", "title"=>"awesome product", "price"=>"100", "description"=>"awesome product description"}}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mProduct Exists (0.0ms)[0m   [0;1mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
  [4;35;1mProduct Create (0.0ms)[0m   [0mINSERT INTO "products" ("image_url", "updated_at", "title", "price", "description", "created_at") VALUES('http://example.com/foo.gif', '2009-02-15 21:49:29', 'awesome product', 100, 'awesome product description', '2009-02-15 21:49:29')[0m
Redirected to #<Product:0x4826258>
Completed in 20ms (DB: 0) | 302 Found [http://test.host/products?product%5Bdescription%5D=awesome+product+description&product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo.gif&product%5Bprice%5D=100&product%5Btitle%5D=awesome+product]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing ProductsController#destroy (for 0.0.0.0 at 2009-02-15 13:49:29) [DELETE]
  Parameters: {"id"=>"953125641"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;36;1mProduct Destroy (0.0ms)[0m   [0;1mDELETE FROM "products" WHERE "id" = 953125641[0m
Redirected to http://test.host/products
Completed in 0ms (DB: 0) | 302 Found [http://test.host/products/953125641]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:49:29) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo.gif", "title"=>"awesome product", "price"=>"100"}}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 20ms (View: 10, DB: 0) | 200 OK [http://test.host/products?product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo.gif&product%5Bprice%5D=100&product%5Btitle%5D=awesome+product]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:49:29) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo", "title"=>"awesome product", "price"=>"100", "description"=>"awesome product description"}}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/products?product%5Bdescription%5D=awesome+product+description&product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo&product%5Bprice%5D=100&product%5Btitle%5D=awesome+product]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:49:29) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo.gif", "title"=>"awesome product", "price"=>".001", "description"=>"awesome product description"}}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 10ms (View: 0, DB: 0) | 200 OK [http://test.host/products?product%5Bdescription%5D=awesome+product+description&product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo.gif&product%5Bprice%5D=.001&product%5Btitle%5D=awesome+product]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:49:29) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo.gif", "price"=>"100", "description"=>"awesome product description"}}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 10ms (View: 0, DB: 0) | 200 OK [http://test.host/products?product%5Bdescription%5D=awesome+product+description&product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo.gif&product%5Bprice%5D=100]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing ProductsController#edit (for 0.0.0.0 at 2009-02-15 13:49:29) [GET]
  Parameters: {"id"=>"953125641"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering products/edit
Completed in 10ms (View: 0, DB: 0) | 200 OK [http://test.host/products/953125641/edit]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing ProductsController#index (for 0.0.0.0 at 2009-02-15 13:49:29) [GET]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/store
Rendering products/index
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/products]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing ProductsController#new (for 0.0.0.0 at 2009-02-15 13:49:29) [GET]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://test.host/products/new]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing ProductsController#show (for 0.0.0.0 at 2009-02-15 13:49:29) [GET]
  Parameters: {"id"=>"953125641"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mProduct Load (10.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering products/show
Completed in 10ms (View: 0, DB: 10) | 200 OK [http://test.host/products/953125641]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing ProductsController#update (for 0.0.0.0 at 2009-02-15 13:49:29) [PUT]
  Parameters: {"product"=>{"title"=>"mega awesome title"}, "id"=>"953125641"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'mega awesome title' AND "products".id <> 953125641) LIMIT 1[0m
  [4;36;1mProduct Update (0.0ms)[0m   [0;1mUPDATE "products" SET "title" = 'mega awesome title', "updated_at" = '2009-02-15 21:49:29' WHERE "id" = 953125641[0m
Redirected to #<Product:0x4725548>
Completed in 0ms (DB: 0) | 302 Found [http://test.host/products/953125641?product%5Btitle%5D=mega+awesome+title]
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing StoreController#add_to_cart (for 0.0.0.0 at 2009-02-15 13:49:29) [GET]
  Parameters: {"id"=>"junk"}
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 0) [0m
Invalid product id: junk
Redirected to actionindex
Completed in 10ms (DB: 0) | 302 Found [http://test.host/store/add_to_cart/junk]
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing StoreController#add_to_cart (for 0.0.0.0 at 2009-02-15 13:49:29) [GET]
  Parameters: {"id"=>"953125641"}
  [4;36;1mProduct Load (10.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering store/add_to_cart
Completed in 40ms (View: 30, DB: 10) | 200 OK [http://test.host/store/add_to_cart/953125641]


Processing StoreController#empty_cart (for 0.0.0.0 at 2009-02-15 13:49:29) [GET]
Redirected to actionindex
Completed in 0ms (DB: 0) | 302 Found [http://test.host/store/empty_cart]


Processing StoreController#index (for 0.0.0.0 at 2009-02-15 13:49:29) [GET]
  [4;35;1mProduct Load (10.0ms)[0m   [0mSELECT * FROM "products" ORDER BY title[0m
Rendering template within layouts/store
Rendering store/index
Completed in 20ms (View: 10, DB: 10) | 200 OK [http://test.host/store]
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" ORDER BY title[0m
  [4;35;1mUser Load (10.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" [0m
  [4;35;1mUser Destroy (0.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 914358341[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Destroy (0.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 953125641[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Destroy (0.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 955064461[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Destroy (10.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 996332877[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Load (10.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-02-15 13:49:30) [DELETE]
  Parameters: {"id"=>"953125641"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
  [4;36;1mUser Destroy (0.0ms)[0m   [0;1mDELETE FROM "users" WHERE "id" = 953125641[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
Redirected to http://test.host/users
Completed in 40ms (DB: 30) | 302 Found [http://test.host/users/953125641]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#index (for 0.0.0.0 at 2009-02-15 13:49:30) [GET]
  [4;36;1mUser Load (10.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 60ms (View: 40, DB: 10) | 200 OK [http://test.host/users]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing UsersController#index (for 0.0.0.0 at 2009-02-15 13:49:30) [GET]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to actionlogincontrolleradmin
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 10ms (DB: 0) | 302 Found [http://test.host/users]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m


Processing UsersController#create (for 0.0.0.0 at 2009-02-15 13:49:30) [POST]
  Parameters: {"user"=>{"name"=>"NewUser", "password_confirmation"=>"pwd", "password"=>"pwd"}}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Exists (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."name" = 'NewUser') LIMIT 1[0m
  [4;36;1mUser Create (0.0ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "updated_at", "hashed_password", "created_at") VALUES('NewUser', '369959500.555375514774078', '2009-02-15 21:49:30', '4b93d571a9efc32a4af1533c09a0a1b21e22bb1b', '2009-02-15 21:49:30')[0m
Redirected to actionindex
Completed in 0ms (DB: 0) | 302 Found [http://test.host/users?user%5Bname%5D=NewUser&user%5Bpassword%5D=pwd&user%5Bpassword_confirmation%5D=pwd]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-02-15 13:49:30) [DELETE]
  Parameters: {"id"=>"953125641"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mUser Load (10.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
  [4;35;1mUser Destroy (0.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 953125641[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
Redirected to http://test.host/users
Completed in 10ms (DB: 10) | 302 Found [http://test.host/users/953125641]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Load (10.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-02-15 13:49:30) [GET]
  Parameters: {"id"=>"953125641"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering users/edit
Completed in 10ms (View: 10, DB: 10) | 200 OK [http://test.host/users/953125641/edit]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing UsersController#index (for 0.0.0.0 at 2009-02-15 13:49:30) [GET]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 10ms (View: 0, DB: 0) | 200 OK [http://test.host/users]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing UsersController#new (for 0.0.0.0 at 2009-02-15 13:49:30) [GET]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/new
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/users/new]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-02-15 13:49:30) [GET]
  Parameters: {"id"=>"953125641"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Load (10.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering users/show
Completed in 10ms (View: 0, DB: 10) | 200 OK [http://test.host/users/953125641]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-02-15 13:49:30) [PUT]
  Parameters: {"user"=>{}, "id"=>"953125641"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
  [4;36;1mUser Exists (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."name" = 'User1' AND "users".id <> 953125641) LIMIT 1[0m
Redirected to actionindex
Completed in 0ms (DB: 0) | 302 Found [http://test.host/users/953125641?]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 955064461) [0m


Processing AdminController#login (for 0.0.0.0 at 2009-02-15 13:50:00) [POST]
  Parameters: {"name"=>"LoginTestUser", "password"=>"pwd1"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."name" = 'LoginTestUser') LIMIT 1[0m
Redirected to actionindex
Completed in 10ms (DB: 0) | 302 Found [http://test.host/admin/login?name=LoginTestUser&password=pwd1]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 955064461) [0m


Processing AdminController#login (for 0.0.0.0 at 2009-02-15 13:50:00) [POST]
  Parameters: {"name"=>"LoginTestUser", "password"=>"pwd2"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."name" = 'LoginTestUser') LIMIT 1[0m
Rendering template within layouts/store
Rendering admin/login
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/admin/login?name=LoginTestUser&password=pwd2]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 955064461) [0m


Processing AdminController#login (for 0.0.0.0 at 2009-02-15 13:50:00) [POST]
  Parameters: {"name"=>"LoginTestUser", "password"=>"pwd1"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."name" = 'LoginTestUser') LIMIT 1[0m
Redirected to actionindex
Completed in 0ms (DB: 0) | 302 Found [http://test.host/admin/login?name=LoginTestUser&password=pwd1]


Processing AdminController#logout (for 0.0.0.0 at 2009-02-15 13:50:00) [POST]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 955064461) LIMIT 1[0m
Redirected to actionlogin
Completed in 0ms (DB: 0) | 302 Found [http://test.host/admin/login?name=LoginTestUser&password=pwd1]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:50:00) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo.gif", "title"=>"awesome product", "price"=>"100", "description"=>"awesome product description"}}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mProduct Exists (0.0ms)[0m   [0;1mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
  [4;35;1mProduct Create (0.0ms)[0m   [0mINSERT INTO "products" ("image_url", "updated_at", "title", "price", "description", "created_at") VALUES('http://example.com/foo.gif', '2009-02-15 21:50:00', 'awesome product', 100, 'awesome product description', '2009-02-15 21:50:00')[0m
Redirected to #<Product:0x4826258>
Completed in 10ms (DB: 0) | 302 Found [http://test.host/products?product%5Bdescription%5D=awesome+product+description&product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo.gif&product%5Bprice%5D=100&product%5Btitle%5D=awesome+product]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing ProductsController#destroy (for 0.0.0.0 at 2009-02-15 13:50:00) [DELETE]
  Parameters: {"id"=>"953125641"}
  [4;36;1mUser Load (10.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;36;1mProduct Destroy (0.0ms)[0m   [0;1mDELETE FROM "products" WHERE "id" = 953125641[0m
Redirected to http://test.host/products
Completed in 10ms (DB: 10) | 302 Found [http://test.host/products/953125641]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:50:00) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo.gif", "title"=>"awesome product", "price"=>"100"}}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 10ms (View: 0, DB: 0) | 200 OK [http://test.host/products?product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo.gif&product%5Bprice%5D=100&product%5Btitle%5D=awesome+product]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:50:01) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo", "title"=>"awesome product", "price"=>"100", "description"=>"awesome product description"}}
  [4;36;1mUser Load (10.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 20ms (View: 0, DB: 10) | 200 OK [http://test.host/products?product%5Bdescription%5D=awesome+product+description&product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo&product%5Bprice%5D=100&product%5Btitle%5D=awesome+product]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:50:01) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo.gif", "title"=>"awesome product", "price"=>".001", "description"=>"awesome product description"}}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/products?product%5Bdescription%5D=awesome+product+description&product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo.gif&product%5Bprice%5D=.001&product%5Btitle%5D=awesome+product]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:50:01) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo.gif", "price"=>"100", "description"=>"awesome product description"}}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 21ms (View: 11, DB: 0) | 200 OK [http://test.host/products?product%5Bdescription%5D=awesome+product+description&product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo.gif&product%5Bprice%5D=100]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing ProductsController#edit (for 0.0.0.0 at 2009-02-15 13:50:01) [GET]
  Parameters: {"id"=>"953125641"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering products/edit
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/products/953125641/edit]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing ProductsController#index (for 0.0.0.0 at 2009-02-15 13:50:01) [GET]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/store
Rendering products/index
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/products]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing ProductsController#new (for 0.0.0.0 at 2009-02-15 13:50:01) [GET]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/products/new]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing ProductsController#show (for 0.0.0.0 at 2009-02-15 13:50:01) [GET]
  Parameters: {"id"=>"953125641"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering products/show
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/products/953125641]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing ProductsController#update (for 0.0.0.0 at 2009-02-15 13:50:01) [PUT]
  Parameters: {"product"=>{"title"=>"mega awesome title"}, "id"=>"953125641"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'mega awesome title' AND "products".id <> 953125641) LIMIT 1[0m
  [4;36;1mProduct Update (0.0ms)[0m   [0;1mUPDATE "products" SET "title" = 'mega awesome title', "updated_at" = '2009-02-15 21:50:01' WHERE "id" = 953125641[0m
Redirected to #<Product:0x4725548>
Completed in 10ms (DB: 0) | 302 Found [http://test.host/products/953125641?product%5Btitle%5D=mega+awesome+title]
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing StoreController#add_to_cart (for 0.0.0.0 at 2009-02-15 13:50:01) [GET]
  Parameters: {"id"=>"junk"}
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 0) [0m
Invalid product id: junk
Redirected to actionindex
Completed in 10ms (DB: 0) | 302 Found [http://test.host/store/add_to_cart/junk]
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing StoreController#add_to_cart (for 0.0.0.0 at 2009-02-15 13:50:01) [GET]
  Parameters: {"id"=>"953125641"}
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering store/add_to_cart
Completed in 30ms (View: 30, DB: 0) | 200 OK [http://test.host/store/add_to_cart/953125641]


Processing StoreController#empty_cart (for 0.0.0.0 at 2009-02-15 13:50:01) [GET]
Redirected to actionindex
Completed in 0ms (DB: 0) | 302 Found [http://test.host/store/empty_cart]


Processing StoreController#index (for 0.0.0.0 at 2009-02-15 13:50:01) [GET]
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" ORDER BY title[0m
Rendering template within layouts/store
Rendering store/index
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/store]
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" ORDER BY title[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" [0m
  [4;35;1mUser Destroy (0.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 914358341[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Destroy (0.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 953125641[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Destroy (0.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 955064461[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Destroy (0.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 996332877[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mSQL (10.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-02-15 13:50:01) [DELETE]
  Parameters: {"id"=>"953125641"}
  [4;36;1mUser Load (10.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
  [4;36;1mUser Destroy (10.0ms)[0m   [0;1mDELETE FROM "users" WHERE "id" = 953125641[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
Redirected to http://test.host/users
Completed in 40ms (DB: 30) | 302 Found [http://test.host/users/953125641]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#index (for 0.0.0.0 at 2009-02-15 13:50:01) [GET]
  [4;36;1mUser Load (10.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 60ms (View: 40, DB: 10) | 200 OK [http://test.host/users]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing UsersController#index (for 0.0.0.0 at 2009-02-15 13:50:01) [GET]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to actionlogincontrolleradmin
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 10ms (DB: 0) | 302 Found [http://test.host/users]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m


Processing UsersController#create (for 0.0.0.0 at 2009-02-15 13:50:01) [POST]
  Parameters: {"user"=>{"name"=>"NewUser", "password_confirmation"=>"pwd", "password"=>"pwd"}}
  [4;36;1mUser Load (10.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Exists (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."name" = 'NewUser') LIMIT 1[0m
  [4;36;1mUser Create (0.0ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "updated_at", "hashed_password", "created_at") VALUES('NewUser', '369959500.562418061545546', '2009-02-15 21:50:01', '539493c57ec1a690fa70a9ef5c3f407419b0b000', '2009-02-15 21:50:01')[0m
Redirected to actionindex
Completed in 10ms (DB: 10) | 302 Found [http://test.host/users?user%5Bname%5D=NewUser&user%5Bpassword%5D=pwd&user%5Bpassword_confirmation%5D=pwd]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-02-15 13:50:01) [DELETE]
  Parameters: {"id"=>"953125641"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
  [4;35;1mUser Destroy (0.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 953125641[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
Redirected to http://test.host/users
Completed in 10ms (DB: 0) | 302 Found [http://test.host/users/953125641]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-02-15 13:50:01) [GET]
  Parameters: {"id"=>"953125641"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering users/edit
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://test.host/users/953125641/edit]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing UsersController#index (for 0.0.0.0 at 2009-02-15 13:50:01) [GET]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/users]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing UsersController#new (for 0.0.0.0 at 2009-02-15 13:50:01) [GET]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/new
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://test.host/users/new]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-02-15 13:50:01) [GET]
  Parameters: {"id"=>"953125641"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering users/show
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/users/953125641]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-02-15 13:50:01) [PUT]
  Parameters: {"user"=>{}, "id"=>"953125641"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
  [4;36;1mUser Exists (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."name" = 'User1' AND "users".id <> 953125641) LIMIT 1[0m
Redirected to actionindex
Completed in 10ms (DB: 0) | 302 Found [http://test.host/users/953125641?]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 955064461) [0m


Processing AdminController#login (for 0.0.0.0 at 2009-02-15 13:50:33) [POST]
  Parameters: {"name"=>"LoginTestUser", "password"=>"pwd1"}
  [4;35;1mUser Load (10.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."name" = 'LoginTestUser') LIMIT 1[0m
Redirected to actionindex
Completed in 10ms (DB: 10) | 302 Found [http://test.host/admin/login?name=LoginTestUser&password=pwd1]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 955064461) [0m


Processing AdminController#login (for 0.0.0.0 at 2009-02-15 13:50:33) [POST]
  Parameters: {"name"=>"LoginTestUser", "password"=>"pwd2"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."name" = 'LoginTestUser') LIMIT 1[0m
Rendering template within layouts/store
Rendering admin/login
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/admin/login?name=LoginTestUser&password=pwd2]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 955064461) [0m


Processing AdminController#login (for 0.0.0.0 at 2009-02-15 13:50:33) [POST]
  Parameters: {"name"=>"LoginTestUser", "password"=>"pwd1"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."name" = 'LoginTestUser') LIMIT 1[0m
Redirected to actionindex
Completed in 10ms (DB: 0) | 302 Found [http://test.host/admin/login?name=LoginTestUser&password=pwd1]


Processing AdminController#logout (for 0.0.0.0 at 2009-02-15 13:50:33) [POST]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 955064461) LIMIT 1[0m
Redirected to actionlogin
Completed in 0ms (DB: 0) | 302 Found [http://test.host/admin/login?name=LoginTestUser&password=pwd1]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:50:33) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo.gif", "title"=>"awesome product", "price"=>"100", "description"=>"awesome product description"}}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mProduct Exists (0.0ms)[0m   [0;1mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
  [4;35;1mProduct Create (0.0ms)[0m   [0mINSERT INTO "products" ("image_url", "updated_at", "title", "price", "description", "created_at") VALUES('http://example.com/foo.gif', '2009-02-15 21:50:33', 'awesome product', 100, 'awesome product description', '2009-02-15 21:50:33')[0m
Redirected to #<Product:0x4826384>
Completed in 10ms (DB: 0) | 302 Found [http://test.host/products?product%5Bdescription%5D=awesome+product+description&product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo.gif&product%5Bprice%5D=100&product%5Btitle%5D=awesome+product]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing ProductsController#destroy (for 0.0.0.0 at 2009-02-15 13:50:33) [DELETE]
  Parameters: {"id"=>"953125641"}
  [4;36;1mUser Load (10.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;36;1mProduct Destroy (0.0ms)[0m   [0;1mDELETE FROM "products" WHERE "id" = 953125641[0m
Redirected to http://test.host/products
Completed in 10ms (DB: 10) | 302 Found [http://test.host/products/953125641]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:50:33) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo.gif", "title"=>"awesome product", "price"=>"100"}}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 20ms (View: 10, DB: 0) | 200 OK [http://test.host/products?product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo.gif&product%5Bprice%5D=100&product%5Btitle%5D=awesome+product]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:50:33) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo", "title"=>"awesome product", "price"=>"100", "description"=>"awesome product description"}}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/products?product%5Bdescription%5D=awesome+product+description&product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo&product%5Bprice%5D=100&product%5Btitle%5D=awesome+product]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:50:33) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo.gif", "title"=>"awesome product", "price"=>".001", "description"=>"awesome product description"}}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/products?product%5Bdescription%5D=awesome+product+description&product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo.gif&product%5Bprice%5D=.001&product%5Btitle%5D=awesome+product]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:50:33) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo.gif", "price"=>"100", "description"=>"awesome product description"}}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/products?product%5Bdescription%5D=awesome+product+description&product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo.gif&product%5Bprice%5D=100]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing ProductsController#edit (for 0.0.0.0 at 2009-02-15 13:50:33) [GET]
  Parameters: {"id"=>"953125641"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering products/edit
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/products/953125641/edit]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing ProductsController#index (for 0.0.0.0 at 2009-02-15 13:50:33) [GET]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/store
Rendering products/index
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/products]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing ProductsController#new (for 0.0.0.0 at 2009-02-15 13:50:33) [GET]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://test.host/products/new]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing ProductsController#show (for 0.0.0.0 at 2009-02-15 13:50:33) [GET]
  Parameters: {"id"=>"953125641"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering products/show
Completed in 10ms (View: 0, DB: 0) | 200 OK [http://test.host/products/953125641]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing ProductsController#update (for 0.0.0.0 at 2009-02-15 13:50:33) [PUT]
  Parameters: {"product"=>{"title"=>"mega awesome title"}, "id"=>"953125641"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'mega awesome title' AND "products".id <> 953125641) LIMIT 1[0m
  [4;36;1mProduct Update (0.0ms)[0m   [0;1mUPDATE "products" SET "title" = 'mega awesome title', "updated_at" = '2009-02-15 21:50:33' WHERE "id" = 953125641[0m
Redirected to #<Product:0x4725674>
Completed in 0ms (DB: 0) | 302 Found [http://test.host/products/953125641?product%5Btitle%5D=mega+awesome+title]
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing StoreController#add_to_cart (for 0.0.0.0 at 2009-02-15 13:50:33) [GET]
  Parameters: {"id"=>"junk"}
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 0) [0m
Invalid product id: junk
Redirected to actionindex
Completed in 10ms (DB: 0) | 302 Found [http://test.host/store/add_to_cart/junk]
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing StoreController#add_to_cart (for 0.0.0.0 at 2009-02-15 13:50:33) [GET]
  Parameters: {"id"=>"953125641"}
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering store/add_to_cart
Completed in 20ms (View: 20, DB: 0) | 200 OK [http://test.host/store/add_to_cart/953125641]


Processing StoreController#empty_cart (for 0.0.0.0 at 2009-02-15 13:50:33) [GET]
Redirected to actionindex
Completed in 0ms (DB: 0) | 302 Found [http://test.host/store/empty_cart]


Processing StoreController#index (for 0.0.0.0 at 2009-02-15 13:50:33) [GET]
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" ORDER BY title[0m
Rendering template within layouts/store
Rendering store/index
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/store]
  [4;36;1mProduct Load (10.0ms)[0m   [0;1mSELECT * FROM "products" ORDER BY title[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" [0m
  [4;35;1mUser Destroy (0.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 914358341[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Destroy (0.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 953125641[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Destroy (0.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 955064461[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Destroy (10.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 996332877[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-02-15 13:50:33) [DELETE]
  Parameters: {"id"=>"953125641"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
  [4;36;1mUser Destroy (0.0ms)[0m   [0;1mDELETE FROM "users" WHERE "id" = 953125641[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
Redirected to http://test.host/users
Completed in 30ms (DB: 20) | 302 Found [http://test.host/users/953125641]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#index (for 0.0.0.0 at 2009-02-15 13:50:33) [GET]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 60ms (View: 40, DB: 0) | 200 OK [http://test.host/users]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing UsersController#index (for 0.0.0.0 at 2009-02-15 13:50:34) [GET]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to actionlogincontrolleradmin
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/users]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m


Processing UsersController#create (for 0.0.0.0 at 2009-02-15 13:50:34) [POST]
  Parameters: {"user"=>{"name"=>"NewUser", "password_confirmation"=>"pwd", "password"=>"pwd"}}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Exists (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."name" = 'NewUser') LIMIT 1[0m
  [4;36;1mUser Create (0.0ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "updated_at", "hashed_password", "created_at") VALUES('NewUser', '369966200.605790334960096', '2009-02-15 21:50:34', '9d82aa67c80d82cf28c544aca29a931b51e548ef', '2009-02-15 21:50:34')[0m
Redirected to actionindex
Completed in 0ms (DB: 0) | 302 Found [http://test.host/users?user%5Bname%5D=NewUser&user%5Bpassword%5D=pwd&user%5Bpassword_confirmation%5D=pwd]
  [4;35;1mSQL (10.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-02-15 13:50:34) [DELETE]
  Parameters: {"id"=>"953125641"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
  [4;35;1mUser Destroy (0.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 953125641[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
Redirected to http://test.host/users
Completed in 10ms (DB: 10) | 302 Found [http://test.host/users/953125641]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-02-15 13:50:34) [GET]
  Parameters: {"id"=>"953125641"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering users/edit
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/users/953125641/edit]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing UsersController#index (for 0.0.0.0 at 2009-02-15 13:50:34) [GET]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/users]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing UsersController#new (for 0.0.0.0 at 2009-02-15 13:50:34) [GET]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/new
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://test.host/users/new]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-02-15 13:50:34) [GET]
  Parameters: {"id"=>"953125641"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering users/show
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/users/953125641]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-02-15 13:50:34) [PUT]
  Parameters: {"user"=>{}, "id"=>"953125641"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
  [4;36;1mUser Exists (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."name" = 'User1' AND "users".id <> 953125641) LIMIT 1[0m
Redirected to actionindex
Completed in 10ms (DB: 0) | 302 Found [http://test.host/users/953125641?]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 955064461) [0m


Processing AdminController#login (for 0.0.0.0 at 2009-02-15 13:53:55) [POST]
  Parameters: {"name"=>"LoginTestUser", "password"=>"pwd1"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."name" = 'LoginTestUser') LIMIT 1[0m
Redirected to actionindex
Completed in 0ms (DB: 0) | 302 Found [http://test.host/admin/login?name=LoginTestUser&password=pwd1]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 955064461) [0m


Processing AdminController#login (for 0.0.0.0 at 2009-02-15 13:53:55) [POST]
  Parameters: {"name"=>"LoginTestUser", "password"=>"pwd2"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."name" = 'LoginTestUser') LIMIT 1[0m
Rendering template within layouts/store
Rendering admin/login
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://test.host/admin/login?name=LoginTestUser&password=pwd2]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 955064461) [0m


Processing AdminController#login (for 0.0.0.0 at 2009-02-15 13:53:55) [POST]
  Parameters: {"name"=>"LoginTestUser", "password"=>"pwd1"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."name" = 'LoginTestUser') LIMIT 1[0m
Redirected to actionindex
Completed in 0ms (DB: 0) | 302 Found [http://test.host/admin/login?name=LoginTestUser&password=pwd1]


Processing AdminController#logout (for 0.0.0.0 at 2009-02-15 13:53:55) [POST]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 955064461) LIMIT 1[0m
Redirected to actionlogin
Completed in 0ms (DB: 0) | 302 Found [http://test.host/admin/login?name=LoginTestUser&password=pwd1]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:53:55) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo.gif", "title"=>"awesome product", "price"=>"100", "description"=>"awesome product description"}}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mProduct Exists (0.0ms)[0m   [0;1mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
  [4;35;1mProduct Create (0.0ms)[0m   [0mINSERT INTO "products" ("image_url", "updated_at", "title", "price", "description", "created_at") VALUES('http://example.com/foo.gif', '2009-02-15 21:53:55', 'awesome product', 100, 'awesome product description', '2009-02-15 21:53:55')[0m
Redirected to #<Product:0x4826230>
Completed in 10ms (DB: 0) | 302 Found [http://test.host/products?product%5Bdescription%5D=awesome+product+description&product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo.gif&product%5Bprice%5D=100&product%5Btitle%5D=awesome+product]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing ProductsController#destroy (for 0.0.0.0 at 2009-02-15 13:53:55) [DELETE]
  Parameters: {"id"=>"953125641"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;36;1mProduct Destroy (0.0ms)[0m   [0;1mDELETE FROM "products" WHERE "id" = 953125641[0m
Redirected to http://test.host/products
Completed in 0ms (DB: 0) | 302 Found [http://test.host/products/953125641]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:53:55) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo.gif", "title"=>"awesome product", "price"=>"100"}}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 20ms (View: 10, DB: 0) | 200 OK [http://test.host/products?product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo.gif&product%5Bprice%5D=100&product%5Btitle%5D=awesome+product]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:53:55) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo", "title"=>"awesome product", "price"=>"100", "description"=>"awesome product description"}}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 10ms (View: 0, DB: 0) | 200 OK [http://test.host/products?product%5Bdescription%5D=awesome+product+description&product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo&product%5Bprice%5D=100&product%5Btitle%5D=awesome+product]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:53:55) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo.gif", "title"=>"awesome product", "price"=>".001", "description"=>"awesome product description"}}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 10ms (View: 0, DB: 0) | 200 OK [http://test.host/products?product%5Bdescription%5D=awesome+product+description&product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo.gif&product%5Bprice%5D=.001&product%5Btitle%5D=awesome+product]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:53:55) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo.gif", "price"=>"100", "description"=>"awesome product description"}}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 10ms (View: 0, DB: 0) | 200 OK [http://test.host/products?product%5Bdescription%5D=awesome+product+description&product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo.gif&product%5Bprice%5D=100]
  [4;36;1mSQL (10.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing ProductsController#edit (for 0.0.0.0 at 2009-02-15 13:53:55) [GET]
  Parameters: {"id"=>"953125641"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering products/edit
Completed in 10ms (View: 0, DB: 10) | 200 OK [http://test.host/products/953125641/edit]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing ProductsController#index (for 0.0.0.0 at 2009-02-15 13:53:55) [GET]
  [4;35;1mUser Load (10.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/store
Rendering products/index
Completed in 10ms (View: 0, DB: 10) | 200 OK [http://test.host/products]
  [4;35;1mUser Load (10.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing ProductsController#new (for 0.0.0.0 at 2009-02-15 13:53:55) [GET]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 0ms (View: 0, DB: 10) | 200 OK [http://test.host/products/new]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing ProductsController#show (for 0.0.0.0 at 2009-02-15 13:53:55) [GET]
  Parameters: {"id"=>"953125641"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering products/show
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://test.host/products/953125641]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing ProductsController#update (for 0.0.0.0 at 2009-02-15 13:53:55) [PUT]
  Parameters: {"product"=>{"title"=>"mega awesome title"}, "id"=>"953125641"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'mega awesome title' AND "products".id <> 953125641) LIMIT 1[0m
  [4;36;1mProduct Update (0.0ms)[0m   [0;1mUPDATE "products" SET "title" = 'mega awesome title', "updated_at" = '2009-02-15 21:53:55' WHERE "id" = 953125641[0m
Redirected to #<Product:0x4725520>
Completed in 10ms (DB: 0) | 302 Found [http://test.host/products/953125641?product%5Btitle%5D=mega+awesome+title]
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing StoreController#add_to_cart (for 0.0.0.0 at 2009-02-15 13:53:55) [GET]
  Parameters: {"id"=>"junk"}
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 0) [0m
Invalid product id: junk
Redirected to actionindex
Completed in 0ms (DB: 0) | 302 Found [http://test.host/store/add_to_cart/junk]
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing StoreController#add_to_cart (for 0.0.0.0 at 2009-02-15 13:53:55) [GET]
  Parameters: {"id"=>"953125641"}
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering store/add_to_cart
Completed in 20ms (View: 20, DB: 0) | 200 OK [http://test.host/store/add_to_cart/953125641]


Processing StoreController#empty_cart (for 0.0.0.0 at 2009-02-15 13:53:55) [GET]
Redirected to actionindex
Completed in 0ms (DB: 0) | 302 Found [http://test.host/store/empty_cart]


Processing StoreController#index (for 0.0.0.0 at 2009-02-15 13:53:55) [GET]
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" ORDER BY title[0m
Rendering template within layouts/store
Rendering store/index
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/store]
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" ORDER BY title[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mUser Load (10.0ms)[0m   [0;1mSELECT * FROM "users" [0m
  [4;35;1mUser Destroy (0.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 914358341[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Destroy (0.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 953125641[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Destroy (10.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 955064461[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Destroy (0.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 996332877[0m
  [4;36;1mSQL (10.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-02-15 13:53:55) [DELETE]
  Parameters: {"id"=>"953125641"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
  [4;36;1mUser Destroy (0.0ms)[0m   [0;1mDELETE FROM "users" WHERE "id" = 953125641[0m
  [4;35;1mSQL (10.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
Redirected to http://test.host/users
Completed in 40ms (DB: 40) | 302 Found [http://test.host/users/953125641]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#index (for 0.0.0.0 at 2009-02-15 13:53:56) [GET]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) LIMIT 1[0m
  [4;35;1mUser Load (10.0ms)[0m   [0mSELECT * FROM "users" ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 60ms (View: 40, DB: 10) | 200 OK [http://test.host/users]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing UsersController#index (for 0.0.0.0 at 2009-02-15 13:53:56) [GET]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to actionlogincontrolleradmin
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/users]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m


Processing UsersController#create (for 0.0.0.0 at 2009-02-15 13:53:56) [POST]
  Parameters: {"user"=>{"name"=>"NewUser", "password_confirmation"=>"pwd", "password"=>"pwd"}}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Exists (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."name" = 'NewUser') LIMIT 1[0m
  [4;36;1mUser Create (0.0ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "updated_at", "hashed_password", "created_at") VALUES('NewUser', '369962800.289758715662898', '2009-02-15 21:53:56', 'a73380915be5ebbcea29002584331a7673b48c1e', '2009-02-15 21:53:56')[0m
Redirected to actionindex
Completed in 10ms (DB: 0) | 302 Found [http://test.host/users?user%5Bname%5D=NewUser&user%5Bpassword%5D=pwd&user%5Bpassword_confirmation%5D=pwd]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-02-15 13:53:56) [DELETE]
  Parameters: {"id"=>"953125641"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
  [4;35;1mUser Destroy (0.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 953125641[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
Redirected to http://test.host/users
Completed in 10ms (DB: 0) | 302 Found [http://test.host/users/953125641]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-02-15 13:53:56) [GET]
  Parameters: {"id"=>"953125641"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering users/edit
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://test.host/users/953125641/edit]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing UsersController#index (for 0.0.0.0 at 2009-02-15 13:53:56) [GET]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/users]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing UsersController#new (for 0.0.0.0 at 2009-02-15 13:53:56) [GET]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/new
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://test.host/users/new]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-02-15 13:53:56) [GET]
  Parameters: {"id"=>"953125641"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering users/show
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://test.host/users/953125641]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-02-15 13:53:56) [PUT]
  Parameters: {"user"=>{}, "id"=>"953125641"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
  [4;36;1mUser Exists (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."name" = 'User1' AND "users".id <> 953125641) LIMIT 1[0m
Redirected to actionindex
Completed in 10ms (DB: 0) | 302 Found [http://test.host/users/953125641?]
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;35;1mProduct Load (10.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 996332877) [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 996332877) [0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 996332877) [0m
  [4;36;1mOrder Load (0.0ms)[0m   [0;1mSELECT * FROM "orders" WHERE ("orders"."id" = 953125641) [0m
  [4;35;1mLineItem Create (0.0ms)[0m   [0mINSERT INTO "line_items" ("order_id", "updated_at", "total_price", "product_id", "quantity", "created_at") VALUES(953125641, '2009-02-15 21:54:36', 2, 953125641, 2, '2009-02-15 21:54:36')[0m
  [4;36;1mLineItem Create (0.0ms)[0m   [0;1mINSERT INTO "line_items" ("order_id", "updated_at", "total_price", "product_id", "quantity", "created_at") VALUES(953125641, '2009-02-15 21:54:36', 1, 996332877, 1, '2009-02-15 21:54:36')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "line_items" WHERE ("line_items".order_id = 953125641) [0m
  [4;36;1mLineItem Load (0.0ms)[0m   [0;1mSELECT * FROM "line_items" WHERE ("line_items".order_id = 953125641) [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 996332877) [0m
  [4;35;1mOrder Load (0.0ms)[0m   [0mSELECT * FROM "orders" WHERE ("orders"."id" = 953125641) [0m
  [4;36;1mOrder Load (10.0ms)[0m   [0;1mSELECT * FROM "orders" WHERE ("orders"."id" = 953125641) [0m
  [4;35;1mOrder Load (0.0ms)[0m   [0mSELECT * FROM "orders" WHERE ("orders"."id" = 953125641) [0m
  [4;36;1mOrder Load (0.0ms)[0m   [0;1mSELECT * FROM "orders" WHERE ("orders"."id" = 953125641) [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" ORDER BY title[0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;36;1mProduct Exists (0.0ms)[0m   [0;1mSELECT "products".id FROM "products" WHERE ("products"."title" = 'MyString1' AND "products".id <> 953125641) LIMIT 1[0m
  [4;35;1mProduct Update (0.0ms)[0m   [0mUPDATE "products" SET "price" = 1000, "updated_at" = '2009-02-15 21:54:36' WHERE "id" = 953125641[0m
  [4;36;1mProduct Exists (0.0ms)[0m   [0;1mSELECT "products".id FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1[0m
  [4;36;1mProduct Exists (0.0ms)[0m   [0;1mSELECT "products".id FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1[0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;36;1mProduct Exists (0.0ms)[0m   [0;1mSELECT "products".id FROM "products" WHERE ("products"."title" = 'MyString1' AND "products".id <> 953125641) LIMIT 1[0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;36;1mProduct Exists (0.0ms)[0m   [0;1mSELECT "products".id FROM "products" WHERE ("products"."title" = 'MyString1' AND "products".id <> 953125641) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'MyString1' AND "products".id <> 953125641) LIMIT 1[0m
  [4;36;1mProduct Exists (0.0ms)[0m   [0;1mSELECT "products".id FROM "products" WHERE ("products"."title" = 'MyString1' AND "products".id <> 953125641) LIMIT 1[0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
WARNING: Can't mass-assign these protected attributes: id
  [4;36;1mProduct Exists (0.0ms)[0m   [0;1mSELECT "products".id FROM "products" WHERE ("products"."title" = 'MyString1') LIMIT 1[0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;36;1mProduct Exists (0.0ms)[0m   [0;1mSELECT "products".id FROM "products" WHERE ("products"."title" = 'MyString1' AND "products".id <> 953125641) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'MyString1' AND "products".id <> 953125641) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 955064461) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."name" = 'LoginTestUser') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 955064461) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."name" = 'LoginTestUser') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 955064461) [0m


Processing AdminController#login (for 0.0.0.0 at 2009-02-15 13:54:42) [POST]
  Parameters: {"name"=>"LoginTestUser", "password"=>"pwd1"}
  [4;35;1mUser Load (10.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."name" = 'LoginTestUser') LIMIT 1[0m
Redirected to actionindex
Completed in 10ms (DB: 10) | 302 Found [http://test.host/admin/login?name=LoginTestUser&password=pwd1]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 955064461) [0m


Processing AdminController#login (for 0.0.0.0 at 2009-02-15 13:54:42) [POST]
  Parameters: {"name"=>"LoginTestUser", "password"=>"pwd2"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."name" = 'LoginTestUser') LIMIT 1[0m
Rendering template within layouts/store
Rendering admin/login
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/admin/login?name=LoginTestUser&password=pwd2]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 955064461) [0m


Processing AdminController#login (for 0.0.0.0 at 2009-02-15 13:54:42) [POST]
  Parameters: {"name"=>"LoginTestUser", "password"=>"pwd1"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."name" = 'LoginTestUser') LIMIT 1[0m
Redirected to actionindex
Completed in 11ms (DB: 0) | 302 Found [http://test.host/admin/login?name=LoginTestUser&password=pwd1]


Processing AdminController#logout (for 0.0.0.0 at 2009-02-15 13:54:42) [POST]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 955064461) LIMIT 1[0m
Redirected to actionlogin
Completed in 0ms (DB: 0) | 302 Found [http://test.host/admin/login?name=LoginTestUser&password=pwd1]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:54:42) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo.gif", "title"=>"awesome product", "price"=>"100", "description"=>"awesome product description"}}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mProduct Exists (0.0ms)[0m   [0;1mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
  [4;35;1mProduct Create (0.0ms)[0m   [0mINSERT INTO "products" ("image_url", "updated_at", "title", "price", "description", "created_at") VALUES('http://example.com/foo.gif', '2009-02-15 21:54:42', 'awesome product', 100, 'awesome product description', '2009-02-15 21:54:42')[0m
Redirected to #<Product:0x48262d0>
Completed in 10ms (DB: 0) | 302 Found [http://test.host/products?product%5Bdescription%5D=awesome+product+description&product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo.gif&product%5Bprice%5D=100&product%5Btitle%5D=awesome+product]
  [4;36;1mSQL (10.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing ProductsController#destroy (for 0.0.0.0 at 2009-02-15 13:54:42) [DELETE]
  Parameters: {"id"=>"953125641"}
  [4;36;1mUser Load (10.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;36;1mProduct Destroy (0.0ms)[0m   [0;1mDELETE FROM "products" WHERE "id" = 953125641[0m
Redirected to http://test.host/products
Completed in 10ms (DB: 20) | 302 Found [http://test.host/products/953125641]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:54:42) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo.gif", "title"=>"awesome product", "price"=>"100"}}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 20ms (View: 10, DB: 0) | 200 OK [http://test.host/products?product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo.gif&product%5Bprice%5D=100&product%5Btitle%5D=awesome+product]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:54:42) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo", "title"=>"awesome product", "price"=>"100", "description"=>"awesome product description"}}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/products?product%5Bdescription%5D=awesome+product+description&product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo&product%5Bprice%5D=100&product%5Btitle%5D=awesome+product]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
  [4;36;1mUser Load (10.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:54:42) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo.gif", "title"=>"awesome product", "price"=>".001", "description"=>"awesome product description"}}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 10ms (View: 10, DB: 10) | 200 OK [http://test.host/products?product%5Bdescription%5D=awesome+product+description&product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo.gif&product%5Bprice%5D=.001&product%5Btitle%5D=awesome+product]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'awesome product') LIMIT 1[0m
  [4;36;1mUser Load (10.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m


Processing ProductsController#create (for 0.0.0.0 at 2009-02-15 13:54:42) [POST]
  Parameters: {"product"=>{"image_url"=>"http://example.com/foo.gif", "price"=>"100", "description"=>"awesome product description"}}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 10ms (View: 0, DB: 10) | 200 OK [http://test.host/products?product%5Bdescription%5D=awesome+product+description&product%5Bimage_url%5D=http%3A%2F%2Fexample.com%2Ffoo.gif&product%5Bprice%5D=100]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing ProductsController#edit (for 0.0.0.0 at 2009-02-15 13:54:42) [GET]
  Parameters: {"id"=>"953125641"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering products/edit
Completed in 10ms (View: 0, DB: 0) | 200 OK [http://test.host/products/953125641/edit]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing ProductsController#index (for 0.0.0.0 at 2009-02-15 13:54:42) [GET]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/store
Rendering products/index
Completed in 10ms (View: 0, DB: 0) | 200 OK [http://test.host/products]
  [4;35;1mUser Load (10.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing ProductsController#new (for 0.0.0.0 at 2009-02-15 13:54:42) [GET]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
Rendering template within layouts/store
Rendering products/new
Completed in 10ms (View: 0, DB: 10) | 200 OK [http://test.host/products/new]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing ProductsController#show (for 0.0.0.0 at 2009-02-15 13:54:42) [GET]
  Parameters: {"id"=>"953125641"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering products/show
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://test.host/products/953125641]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing ProductsController#update (for 0.0.0.0 at 2009-02-15 13:54:42) [PUT]
  Parameters: {"product"=>{"title"=>"mega awesome title"}, "id"=>"953125641"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
  [4;35;1mProduct Exists (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."title" = 'mega awesome title' AND "products".id <> 953125641) LIMIT 1[0m
  [4;36;1mProduct Update (0.0ms)[0m   [0;1mUPDATE "products" SET "title" = 'mega awesome title', "updated_at" = '2009-02-15 21:54:42' WHERE "id" = 953125641[0m
Redirected to #<Product:0x47255c0>
Completed in 10ms (DB: 0) | 302 Found [http://test.host/products/953125641?product%5Btitle%5D=mega+awesome+title]
  [4;35;1mProduct Load (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing StoreController#add_to_cart (for 0.0.0.0 at 2009-02-15 13:54:42) [GET]
  Parameters: {"id"=>"junk"}
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 0) [0m
Invalid product id: junk
Redirected to actionindex
Completed in 0ms (DB: 0) | 302 Found [http://test.host/store/add_to_cart/junk]
  [4;35;1mProduct Load (10.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m


Processing StoreController#add_to_cart (for 0.0.0.0 at 2009-02-15 13:54:42) [GET]
  Parameters: {"id"=>"953125641"}
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering store/add_to_cart
Completed in 20ms (View: 20, DB: 10) | 200 OK [http://test.host/store/add_to_cart/953125641]


Processing StoreController#empty_cart (for 0.0.0.0 at 2009-02-15 13:54:43) [GET]
Redirected to actionindex
Completed in 0ms (DB: 0) | 302 Found [http://test.host/store/empty_cart]


Processing StoreController#index (for 0.0.0.0 at 2009-02-15 13:54:43) [GET]
  [4;35;1mProduct Load (10.0ms)[0m   [0mSELECT * FROM "products" ORDER BY title[0m
Rendering template within layouts/store
Rendering store/index
Completed in 20ms (View: 10, DB: 10) | 200 OK [http://test.host/store]
  [4;36;1mProduct Load (0.0ms)[0m   [0;1mSELECT * FROM "products" ORDER BY title[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" [0m
  [4;35;1mUser Destroy (0.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 914358341[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Destroy (0.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 953125641[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Destroy (0.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 955064461[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Destroy (10.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 996332877[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Load (10.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-02-15 13:54:43) [DELETE]
  Parameters: {"id"=>"953125641"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
  [4;36;1mUser Destroy (10.0ms)[0m   [0;1mDELETE FROM "users" WHERE "id" = 953125641[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
Redirected to http://test.host/users
Completed in 40ms (DB: 30) | 302 Found [http://test.host/users/953125641]
  [4;35;1mSQL (10.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#index (for 0.0.0.0 at 2009-02-15 13:54:43) [GET]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 60ms (View: 50, DB: 10) | 200 OK [http://test.host/users]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing UsersController#index (for 0.0.0.0 at 2009-02-15 13:54:43) [GET]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" IS NULL) LIMIT 1[0m
Redirected to actionlogincontrolleradmin
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 10ms (DB: 0) | 302 Found [http://test.host/users]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m


Processing UsersController#create (for 0.0.0.0 at 2009-02-15 13:54:43) [POST]
  Parameters: {"user"=>{"name"=>"NewUser", "password_confirmation"=>"pwd", "password"=>"pwd"}}
  [4;36;1mUser Load (10.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Exists (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."name" = 'NewUser') LIMIT 1[0m
  [4;36;1mUser Create (0.0ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "updated_at", "hashed_password", "created_at") VALUES('NewUser', '369963700.666178527366707', '2009-02-15 21:54:43', '0fc34c82c39bc1c7211df871609636cc7356dc67', '2009-02-15 21:54:43')[0m
Redirected to actionindex
Completed in 10ms (DB: 10) | 302 Found [http://test.host/users?user%5Bname%5D=NewUser&user%5Bpassword%5D=pwd&user%5Bpassword_confirmation%5D=pwd]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-02-15 13:54:43) [DELETE]
  Parameters: {"id"=>"953125641"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
  [4;35;1mUser Destroy (0.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 953125641[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" [0m
Redirected to http://test.host/users
Completed in 10ms (DB: 0) | 302 Found [http://test.host/users/953125641]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "users" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-02-15 13:54:43) [GET]
  Parameters: {"id"=>"953125641"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering users/edit
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://test.host/users/953125641/edit]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing UsersController#index (for 0.0.0.0 at 2009-02-15 13:54:43) [GET]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://test.host/users]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m


Processing UsersController#new (for 0.0.0.0 at 2009-02-15 13:54:43) [GET]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/new
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://test.host/users/new]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-02-15 13:54:43) [GET]
  Parameters: {"id"=>"953125641"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
Rendering template within layouts/store
Rendering users/show
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://test.host/users/953125641]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-02-15 13:54:43) [PUT]
  Parameters: {"user"=>{}, "id"=>"953125641"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 914358341) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 953125641) [0m
  [4;36;1mUser Exists (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."name" = 'User1' AND "users".id <> 953125641) LIMIT 1[0m
Redirected to actionindex
Completed in 10ms (DB: 0) | 302 Found [http://test.host/users/953125641?]
